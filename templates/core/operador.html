{% extends "core/base.html" %}
{% load static %}

{% block title %}Dashboard Operador{% endblock %}

{% block extra_head %}
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet" crossorigin="anonymous">
  <link rel="stylesheet" href="{% static 'core/css/operador.css' %}">
{% endblock %}

{% block content %}
<div class="page-root">

  <!-- HEADER -->
  <header class="header">
    <div class="header-inner">
      <div class="header-left">
        <button class="toggle-sidebar" aria-label="Abrir men칰">
          <span class="hamb-bar"></span>
          <span class="hamb-bar"></span>
          <span class="hamb-bar"></span>
        </button>
        <img src="{% static 'core/img/logo.png' %}" alt="Logo" class="header-logo">
        <h1 class="header-title">Dashboard Operador</h1>
      </div>

      <div class="header-right">
        <nav class="top-links" aria-label="Enlaces superiores">
          <a href="#" class="top-link">Empresa</a>
          <a href="#" class="top-link">Para Empresas</a>
        </nav>
        <button class="btn btn-outline">INGRESAR</button>
        <div class="avatar" title="Usuario">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden>
            <circle cx="12" cy="8" r="3" stroke="currentColor" stroke-width="1.4"/>
            <path d="M4 20c1.5-4 14-4 16 0" stroke="currentColor" stroke-width="1.4"/>
          </svg>
        </div>
      </div>
    </div>
  </header>

  <!-- SIDEBAR -->
  <aside class="sidebar" role="navigation" aria-label="Men칰 operador">
    <div class="sidebar-header">
      <div class="sidebar-brand">
        <img src="{% static 'core/img/logo.png' %}" alt="Logo" class="sidebar-brand-img">
        <span class="sidebar-brand-text">Men칰 Operador</span>
      </div>
      <button class="close-sidebar" aria-label="Cerrar men칰">&times;</button>
    </div>

    <nav class="nav">
      <a href="#" class="nav-item active"><span class="nav-icon">游</span><span>Inicio</span></a>
      <a href="#" class="nav-item"><span class="nav-icon">游</span><span>Vals Asignaciones</span></a>
      <a href="#" class="nav-item"><span class="nav-icon">游늶</span><span>Mis Asignaciones</span></a>
      <a href="#" class="nav-item"><span class="nav-icon">游녻</span><span>Operadores</span></a>
      <a href="#" class="nav-item"><span class="nav-icon">游뎹</span><span>Historial</span></a>
      <a href="#" class="nav-item"><span class="nav-icon">游뚫</span><span>Veh칤culos</span></a>
      <a href="#" class="nav-item"><span class="nav-icon">游늯</span><span>Documentos</span></a>
      <a href="#" class="nav-item"><span class="nav-icon">游닏</span><span>Solicitudes</span></a>
      <a href="#" class="nav-item"><span class="nav-icon">丘뙖잺</span><span>Configuraci칩n</span></a>
    </nav>
  </aside>

  <div class="sidebar-overlay"></div>

  <!-- MAIN -->
  <main class="main" role="main">
    <section class="content-shell">
      <!-- KPIs -->
      <div class="kpis-row">
        <div class="card kpi selected">
          <div class="kpi">
            <h3>Asignaci칩n Actual</h3>
            <div class="kpi-number">1</div>
          </div>
        </div>

        <div class="card kpi">
          <div class="kpi">
            <h3>Servicios</h3>
            <div class="kpi-number">3</div>
          </div>
        </div>

        <div class="card kpi">
          <div class="kpi">
            <h3>Completados</h3>
            <div class="kpi-number">8</div>
            <div class="kpi-sub">3 activos hoy</div>
          </div>
        </div>
      </div>

      <h2 class="section-title">Pr칩ximos Servicios Asignados</h2>

      <div class="big-card highlighted">
        <div class="accent-bar"></div>
        <div>
          <h3>Viaje #2024-03-15-001</h3>
          <p class="muted"><strong>Cliente:</strong> Log칤stica del Sur</p>
          <p class="muted"><strong>Ruta:</strong> Bogot치 - Medell칤n</p>
          <p class="muted"><strong>Hora:</strong> Hoy, 15:00</p>
        </div>
        <button class="top-cta">INICIAR SERVICIO</button>
      </div>

      <div class="table-card">
        <h3>Otras Asignaciones Pendientes</h3>
        <table class="data-table">
          <thead>
            <tr><th>ID</th><th>Ruta</th><th>Cliente</th><th>Estado</th><th>Fecha</th></tr>
          </thead>
          <tbody>
            <tr><td>1</td><td>Cliente</td><td>Log칤stica Sur</td><td>En Curso</td><td>Hoy</td></tr>
            <tr><td>2</td><td>Fruta</td><td>Validar empresa</td><td>Pendiente</td><td>Ma침ana</td></tr>
          </tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="footer-inner">
      <span>Privacidad</span> 췅 <span>T칠rminos</span>
    </div>
  </footer>
</div>

<!-- SCRIPT -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const sidebar = document.querySelector(".sidebar");
  const overlay = document.querySelector(".sidebar-overlay");
  const toggle = document.querySelector(".toggle-sidebar");
  const closeBtn = document.querySelector(".close-sidebar");
  const navItems = document.querySelectorAll(".nav-item");
  const kpiCards = document.querySelectorAll(".card.kpi");

  toggle.addEventListener("click", () => {
    sidebar.classList.toggle("open");
    overlay.classList.toggle("visible");
  });
  closeBtn.addEventListener("click", () => {
    sidebar.classList.remove("open");
    overlay.classList.remove("visible");
  });
  overlay.addEventListener("click", () => {
    sidebar.classList.remove("open");
    overlay.classList.remove("visible");
  });

  // Animaci칩n de selecci칩n en el men칰
  navItems.forEach(item => {
    item.addEventListener("click", () => {
      navItems.forEach(i => i.classList.remove("active"));
      item.classList.add("active");
    });
  });

  // Animaci칩n en KPI al hacer click
  kpiCards.forEach(card => {
    card.addEventListener("click", () => {
      kpiCards.forEach(c => c.classList.remove("selected"));
      card.classList.add("selected");
    });
  });
});
</script>

{% endblock %}
